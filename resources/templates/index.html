{% extends "base.html" %}

{% block head %}
    <script src="js/index.js" type="text/javascript"></script>
    <script src="js/api.js" type="text/javascript"></script>
    {% include "views/details.html" %}
    {% include "views/assembly.html" %}
    {% include "views/users.html" %}
{% endblock %}



{% block body %}
    <div v-if="app_loaded" class="h-100">
        <div v-if="!logged_in" v-cloak>
            <div class="card"  style="width: 18rem">
                <div class="card-header">
                    Вход в систему
                </div>
                <div class="card-body">
                        <input class="form-control" placeholder="Имя пользователя" v-model="loginform.login">
                        <div style="height: 1rem"></div>
                        <input class="form-control" placeholder="Пароль" type="password" v-model="loginform.password">
                        <div style="height: 1rem"></div>
                        <button class="btn btn-primary" v-on:click="doLogin()">Войти</button>

                </div>
            </div>
        </div>
        <div v-if="logged_in && current_view!=undefined" class="h-100">
            <component v-bind:is="current_view" v-bind:userinfo="userinfo">

            </component>

        </div>
    </div>

{% endblock %}